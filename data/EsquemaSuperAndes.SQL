CREATE TABLE A_PRODUCTOPROVEEDOR
(IDPRODUCTOPROVEEDOR NUMBER,
	NOMBRE VARCHAR2(255 BYTE),
	MARCA VARCHAR2(255 BYTE),
	PRESENTACION VARCHAR2(255 BYTE),
	CANTIDADPRESENTACION NUMBER,
	UNIDADMEDIDA VARCHAR2(255 BYTE),
	VOLUMENEMPAQUE NUMBER,
	PESOEMPAQUE NUMBER,
	CODIGODEBARRAS VARCHAR2(255 BYTE),
	CATEGORIA VARCHAR2(255 BYTE),
	TIPO VARCHAR2(255 BYTE),
	FECHADEVENCIMIENTO VARCHAR2(255 BYTE), 
	CALIDAD NUMBER,
	PRECIO NUMBER,
	NUMEROCALIFICACIONES NUMBER,
	SUMACALIFICACIONES NUMBER,
	PROVEEDOR NUMBER,
	CONSTRAINT A_PRODUCTOPROVEEDOR PRIMARY KEY(IDPRODUCTOPROVEEDOR)
);

ALTER TABLE A_PRODUCTOPROVEEDOR
	ADD CONSTRAINT FK_PROVEEDOR
	FOREIGN KEY (PROVEEDOR)
	REFERENCES A_PROVEEDOR(NIT),
	ADD CONSTRAINT CK_PRECIO
	CHECK (PRECIO>0),
	ADD CONSTRAINT CK_NUMEROCALIFICACIONES
	CHECK (NUMEROCALIFICACIONES>=0),
	ADD CONSTRAINT CK_SUMACALIFICACIONES
	CHECK (SUMACALIFICACIONES>=0),
	ADD CONSTRAINT CK_CANTIDAPRESENTACION
	CHECK ( CANTIDADPRESENTACION>0)

ENABLE;

CREATE TABLE A_PROVEEDOR
( NIT NUMBER,
	NOMBRE VARCHAR2(255 BYTE),
	CONSTRAINT A_PROVEEDOR_PK PRIMARY KEY (NIT)
);

ALTER TABLE A_PROVEEDOR
	ADD CONSTRAINT UN_PROVEEDOR_NOMBRE
	UNIQUE (NOMBRE)
ENABLE;	

CREATE TABLE A_PRODUCTOSUCURSAL
( IDPRODUCTOSUCURSAL NUMBER,
	NOMBRE VARCHAR2(255 BYTE),
	MARCA VARCHAR2(255 BYTE),
	PRESENTACION VARCHAR2(255 BYTE),
	CANTIDADPRESENTACION NUMBER,
	UNIDADMEDIDA VARCHAR2(255 BYTE),
	VOLUMENEMPAQUE NUMBER,
	PESOEMPAQUE NUMBER,
	CODIGODEBARRAS VARCHAR2(255 BYTE),
	CATEGORIA VARCHAR2(255 BYTE),
	TIPO VARCHAR2(255 BYTE),
	FECHADEVENCIMIENTO VARCHAR2(255 BYTE),
	NIVELREORDEN NUMBER,
	PRECIOUNITARIO NUMBER,
	CANTIDADESTANTE NUMBER,
	PRECIOUNIDADMEDIDA NUMBER,
	PROMOCION NUMBER,
	BODEGA NUMBER,
	ESTANTE NUMBER	
);

ALTER TABLE A_PRODUCTOSUCURSAL
	ADD CONSTRAINT CK_CANTIDADPRESENTACION
	CHECK (CANTIDADPRESENTACION>0 ),
	ADD CONSTRAINT CK_VOLUMENPAQUETE
	CHECK (VOLUMENPAQUETE>0),
	ADD CONSTRAINT CK_PESOPAQUETE
	CHECK (PESOPAQUETE>0),
	ADD CONSTRAINT CK_NIVELREORDEN
	CHECK (NIVELREORDEN>0),
	ADD CONSTRAINT CK_PRECIOUNITARIO
	CHECK (PRECIOUNITARIO>0),
	ADD CONSTRAINT CK_CANTIDADESTANTE
	CHECK (CANTIDADESTANTE>0),
	ADD CONSTRAINT CK_PRECIOUNIDADMEDIDA
	CHECK (PRECIOUNIDADMEDIDA>0),
	ADD CONSTRAINT FK_BODEGA
	FOREIGN KEY (BODEGA)
	REFERENCES A_BODEGA(IDBODEGA),
	ADD CONSTRAINT FK_PROMOCION
	FOREIGN KEY (PROMOCION)
	REFERENCES A_PROMOCION(IDPROMOCION),
	ADD CONSTRAINT FK_ESTANTE
	FOREIGN KEY (ESTANTE)
	REFERENCES A_ESTANTE(IDESTANTE)
ENABLE;

CREATE TABLE A_PROMOCION
(IDPROMOCION NUMBER,
	TIPO NUMBER,
	N NUMBER,
	M NUMBER,
	FECHADECADUCIDAD VARCHAR2(255 BYTE),
	CONSTRAINT A_PROMOCION PRIMARY KEY(IDPROMOCION));

ALTER TABLE A_PROMOCION
	ADD CONSTRAINT CK_N
	CHECK (N>0),
	ADD CONSTRAINT CK_M
	CHECK (M>0)
ENABLE;

CREATE TABLE A_BODEGA 
(IDBODEGA NUMBER,
	TIPO VARCHAR2(255 BYTE),
	PESO NUMBER,
	VOLUMEN NUMBER,
	SUCURSAL NUMBER,
	CONSTRAINT A_BODEGA PRIMARY KEY (IDBODEGA)

);

ALTER TABLE BODEGA
	ADD CONSTRAINT CK_PESO
	CHECK (PESO>0),
	ADD CONSTRAINT CK_VOLUMEN
	CHECK (VOLUMEN>0),
	ADD CONSTRAINT FK_SUCURSAL
	FOREING KEY (SUCURSAL)
	REFERENCES A_SUCURSAL(IDSUCURSAL)
ENABLE;

CREATE TABLE A_ORDENPEDIDO
(IDPEDIDO NUMBER,
	PRECIO NUMBER,
	FECHADEENTREGA VARCHAR2(255 BYTE),
	FECHADEENTREGAESPERADA VARCHAR2(255 BYTE),
	CALIFICACION NUMBER,
	ENTREGADO NUMBER,
	CANTIDAD NUMBER,
	PRODUCTOPROVEEDOR NUMBER,
	SUCURSAL NUMBER,
	CONSTRAINT A_ORDENPEDIDO PRIMARY KEY (IDPEDIDO)

);

ALTER TABLE A_ORDENPEDIDO
	ADD CONSTRAINT CK_PRECIO
	CHECK ( PRECIO>0),
	ADD CONSTRAINT CK_CALIFICACION
	CHECK (CALIFICACION IN (1,2,3,4,5)),
	ADD CONSTRAINT CK_CANTIDAD
	CHECK (CANTIDAD>0),
	ADD CONSTRAINT FK_PRODUCTOPROVEEDOR
	FOREIGN KEY (PRODUCTOPROVEEDOR)
	REFERENCES A_PRODUCTOPROVEEDOR(IDPRODUCTOPROVEEDOR),
	ADD CONSTRAINT FK_SUCURSAL
	FOREIGN KEY (SUCURSAL)
	REFERENCES A_SUCURSAL(IDSUCURSAL)
ENABLE;

CREATE TABLE A_ESTANTE
( IDESTANTE NUMBER,
	TIPO VARCHAR(255 BYTE),
	PESO NUMBER,
	VOLUMEN NUMBER,
	NIVELREAPROVISIONAMIENTO NUMBER,
	SUCURSAL NUMBER,
	CONSTRAINT A_ESTANTE PRIMARY KEY(IDESTANTE)
);
ALTER TABLE A_ESTANTE

	ADD CONSTRAINT CK_PESO
	CHECK ( PESO>0),
	ADD CONSTRAINT CK_VOLUMEN
	CHECK (VOLUMEN >0),
	ADD CONSTRAINT CK_NIVELREAPROVISIONAMIENTO
	CHECK (NIVELREAPROVISIONAMIENTO>0),
	ADD CONSTRAINT FK_SUCURSAL
	FOREIGN KEY (SUCURSAL)
	REFERENCES A_SUCURSAL(IDSUCURSAL)
ENABLE;

CREATE TABLE A_COMPRA
( IDCOMPRA NUMBER,
	FECHA VARCHAR2(255 BYTE),
	CANTIDAD NUMBER,
	SUCURSAL NUMBER,
	CLIENTE NUMBER,
	FACTURA NUMBER,
	CONSTRAINT A_COMPRA PRIMARY KEY (IDCOMPRA)

);

ALTER TABLE A_COMPRA
	ADD CONSTRAINT CK_CANTIDAD
	CHECK(CANTIDAD>0),
	ADD CONSTRAINT FK_SUCURSAL
	FOREIGN KEY (SUCURSAL)
	REFERENCES A_SUCURSAL(IDSUCURSAL),
	ADD CONSTRAINT FK_CLIENTE
	FOREIGN KEY (CLIENTE)
	REFERENCES A_SUCURSAL(IDENTIFICACION),
	ADD CONSTRAINT FK_FACTURA
	FOREIGN KEY (FACTURA)
	REFERENCES A_SUCURSAL(IDFACTURA)
ENABLE;

CREATE TABLE A_SUCURSAL
(IDSUCURSAL NUMBER,
	NOMBRE VARCHAR2 (255 BYTE),
	CIUDAD VARCHAR2(255 BYTE),
	CORREO VARCHAR2 (255BYTE),
	DIRECCION VARCHAR2 (255BYTE),
	CONSTRAINT A_SUCURSAL PRIMARY KEY(IDSUCURSAL)
);

CREATE TABLE A_CLIENTE
(IDENTIFICACION NUMBER,
	NOMBRE VARCHAR2 (255 BYTE),
	CORREO VARCHAR2 (255 BYTE),
	DIRECCION VARCHAR2 (255 BYTE),
	CONSTRAINT A_CLIENTE PRIMARY KEY (IDENTIFICACION)
);

CREATE TABLE A_FACTURA
( IDFACTURA NUMBER,
DESCRPICION VARCHAR(255 BYTE),
CONSTRAINT A_FACTURA PRIMARY KEY (IDFACTURA)		
);


COMMIT;
